# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Telegram Bot –¥–ª—è –º–µ—Ö–∞–Ω–∏–∫–æ–≤ - –ò—Ç–æ–≥–∏

## üì¶ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã
1. **config.py** (56 —Å—Ç—Ä–æ–∫)
   - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ—Ç–∞ (BOT_TOKEN, BACKEND_URL)
   - 5 –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å 34 —Ç–∏–ø–æ–≤—ã–º–∏ –¥–µ—Ç–∞–ª—è–º–∏
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π ConversationHandler

2. **bot.py** (499 —Å—Ç—Ä–æ–∫)
   - 19 async —Ñ—É–Ω–∫—Ü–∏–π
   - ConversationHandler —Å 6 —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (Timeout, ConnectionError, Exception)
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å backend API
   - –†—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å —ç–º–æ–¥–∑–∏

3. **test_bot.py** (159 —Å—Ç—Ä–æ–∫)
   - 12 unit-—Ç–µ—Å—Ç–æ–≤
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –ø—Ä–∏—ë–º–∫–∏
   - –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ ‚úÖ

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
4. **README.md** (–æ–±–Ω–æ–≤–ª—ë–Ω)
   - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ —Å venv
   - –ö–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ü–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–∫–∞–∑–∞

5. **FEATURES.md** (–Ω–æ–≤—ã–π)
   - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
   - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ user_data
   - –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ UX

6. **ACCEPTANCE_CRITERIA.md** (–Ω–æ–≤—ã–π)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö 13 –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –ø—Ä–∏—ë–º–∫–∏
   - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
   - –ò—Ç–æ–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

## üéØ –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ö–æ–º–∞–Ω–¥—ã –∏ handlers
```
/start                 ‚Üí start()
üÜï –ù–æ–≤—ã–π –∑–∞–∫–∞–∑         ‚Üí select_category()
üìã –ú–æ–∏ –∑–∞–∫–∞–∑—ã          ‚Üí my_orders()
‚ÑπÔ∏è –ü–æ–º–æ—â—å             ‚Üí help_command()
‚ùå –û—Ç–º–µ–Ω–∞              ‚Üí cancel()
```

### –ü—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞ (ConversationHandler)
```
1. CATEGORY          ‚Üí select_category()
   ‚Üì
2. PARTS_SELECTION   ‚Üí toggle_part(), add_manual_part()
   ‚Üì
3. VIN_INPUT         ‚Üí process_vin() (–≤–∞–ª–∏–¥–∞—Ü–∏—è ‚â•4 —Å–∏–º–≤–æ–ª–æ–≤)
   ‚Üì
4. ORIGINAL_CHOICE   ‚Üí original_choice()
   ‚Üì
5. PHOTO_UPLOAD      ‚Üí upload_photo() | skip_photo()
   ‚Üì
6. CONFIRMATION      ‚Üí show_confirmation() ‚Üí confirm_order()
```

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–ø—á–∞—Å—Ç–µ–π
- üîß –¢–æ—Ä–º–æ–∑–∞: 7 –¥–µ—Ç–∞–ª–µ–π
- ‚öôÔ∏è –î–≤–∏–≥–∞—Ç–µ–ª—å: 7 –¥–µ—Ç–∞–ª–µ–π
- üî© –ü–æ–¥–≤–µ—Å–∫–∞: 7 –¥–µ—Ç–∞–ª–µ–π
- ‚ö° –≠–ª–µ–∫—Ç—Ä–∏–∫–∞: 7 –¥–µ—Ç–∞–ª–µ–π
- üíß –†–∞—Å—Ö–æ–¥–Ω–∏–∫–∏: 6 –¥–µ—Ç–∞–ª–µ–π

**–í—Å–µ–≥–æ: 34 —Ç–∏–ø–æ–≤—ã–µ –¥–µ—Ç–∞–ª–∏**

### –ö–æ–¥
- **–í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫:** 714
- **Async —Ñ—É–Ω–∫—Ü–∏–π:** 19
- **–°–æ—Å—Ç–æ—è–Ω–∏–π:** 6
- **–¢–µ—Å—Ç–æ–≤:** 12
- **–£—Å–ø–µ—à–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤:** 100%

## üîå API –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### Backend endpoints
```python
POST /api/orders              # –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞
GET /api/orders?telegram_id=  # –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ –º–µ—Ö–∞–Ω–∏–∫–∞
```

### –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
```python
{
    "mechanic_name": str,      # –ò–º—è –∏–∑ Telegram
    "telegram_id": str,        # ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    "category": str,           # –í—ã–±—Ä–∞–Ω–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è
    "vin": str,               # VIN –∞–≤—Ç–æ–º–æ–±–∏–ª—è (‚â•4 —Å–∏–º–≤–æ–ª–æ–≤)
    "selected_parts": list,   # –ú–∞—Å—Å–∏–≤ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –¥–µ—Ç–∞–ª–µ–π
    "is_original": bool,      # –û—Ä–∏–≥–∏–Ω–∞–ª/–Ω–µ –æ—Ä–∏–≥–∏–Ω–∞–ª
    "photo_url": str|None     # URL —Ñ–æ—Ç–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
}
```

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏

–í—Å–µ 13 –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:
- [x] –ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ /start
- [x] –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [x] –ü—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤—Å–µ —à–∞–≥–∏
- [x] –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä –¥–µ—Ç–∞–ª–µ–π –∏–∑ —á–µ–∫-–ª–∏—Å—Ç–æ–≤
- [x] –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å –≤—Ä—É—á–Ω—É—é
- [x] VIN –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è (–º–∏–Ω–∏–º—É–º 4 —Å–∏–º–≤–æ–ª–∞)
- [x] –í—ã–±–æ—Ä –æ—Ä–∏–≥–∏–Ω–∞–ª/–Ω–µ –æ—Ä–∏–≥–∏–Ω–∞–ª
- [x] –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (–∏ –ø—Ä–æ–ø—É—Å–∫ —Ç–æ–∂–µ)
- [x] –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–≤–æ–¥–∫—É –∑–∞–∫–∞–∑–∞
- [x] –ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ backend
- [x] –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –∑–∞–∫–∞–∑–æ–≤
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å–µ—Ç–∏ –∏ —Ç–∞–π–º–∞—É—Ç–æ–≤
- [x] –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ —Å —ç–º–æ–¥–∑–∏

## üöÄ –ó–∞–ø—É—Å–∫

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
cd felix_hub/bot
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env —Å —Ç–æ–∫–µ–Ω–æ–º

# –ó–∞–ø—É—Å–∫
python bot.py

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
python -m unittest test_bot.py -v
```

## üìù –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Python:** 3.10+
- **python-telegram-bot:** 21.0 (async/await)
- **requests:** 2.31.0
- **python-dotenv:** 1.0.0

## üé® UX Features

- –≠–º–æ–¥–∑–∏ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è
- –†—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ–Ω—ã –Ω–∞ –ª—é–±–æ–º —ç—Ç–∞–ø–µ
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- –ü–æ–∫–∞–∑ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–æ–≤
- Inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞
