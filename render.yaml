services:
  # Flask Backend + Telegram Bot (Web Service)
  - type: web
    name: felix-hub-backend
    env: python
    pythonVersion: "3.11.9"
    region: frankfurt
    plan: free
    branch: main
    buildCommand: "pip install -r requirements.txt"
    startCommand: "gunicorn -w 1 -b 0.0.0.0:$PORT --timeout 120 felix_hub.backend.app:app"
    healthCheckPath: /health
    autoDeploy: true
    envVars:
      - key: WEBHOOK_URL
        value: https://felix-hub-backend.onrender.com

databases:
  # PostgreSQL Database
  - name: felix-hub-db
    databaseName: felix_hub
    plan: free
    region: frankfurt
